```bash
sudo apt update
sudo apt install curl -y
sudo sh -c "$(curl --location https://taskfile.dev/install.sh)" -- -d -b /usr/local/bin
task --version
curl -L -o taskfile.yaml https://raw.githubusercontent.com/Mathod95/task/main/taskfile.yaml
task
```


# ğŸš€ Bootstrap Environment - Taskfile

Automatisation complÃ¨te de l'installation et de la gestion de l'environnement de dÃ©veloppement sur Debian WSL2.

## ğŸ“‹ PrÃ©requis

- **Debian WSL2** sur Windows
- **Task** installÃ© ([Installation](https://taskfile.dev/installation/))
- AccÃ¨s **sudo**

## âš¡ Installation rapide

```bash
# Clone ou copie le Taskfile.yaml dans ton rÃ©pertoire
# Puis lance simplement :
task
```

## ğŸ¯ FonctionnalitÃ©s

### ğŸ”§ Installation automatique
- **Homebrew** : Gestionnaire de paquets pour Linux
- **Packages essentiels** : ArgoCD, Bat, Eza, Git, Helm, Kind, Kubectl, Kubecolor, Kubectx, Vim, Zsh, Zellij

### ğŸ› ï¸ Gestion des packages
- Installation intelligente (une seule fois)
- Mise Ã  jour contrÃ´lÃ©e manuellement
- Upgrade de tous les packages
- Listage avec diffÃ©rents formats

## ğŸ“š Commandes disponibles

### Installation

```bash
task                    # Bootstrap complet (premiÃ¨re installation)
task bootstrap          # Alias pour l'installation complÃ¨te
```

### Gestion Homebrew

```bash
task brew:update        # Met Ã  jour les dÃ©pÃ´ts Homebrew
task brew:upgrade       # Met Ã  jour tous les packages installÃ©s
```

### Listage des packages

```bash
task brew:list          # Liste tous les packages (avec dÃ©pendances)
task brew:list:leaves   # Liste uniquement les packages installÃ©s manuellement
task brew:list:pretty   # Affichage stylÃ© avec emojis ğŸ¨
```

## ğŸ“¦ Packages installÃ©s

| Outil | Description |
|-------|-------------|
| ğŸ” **ArgoCD** | GitOps continuous delivery tool |
| ğŸ¦‡ **Bat** | Cat clone avec coloration syntaxique |
| ğŸ“ **Eza** | Remplacement moderne de `ls` |
| ğŸ™ **Git** | SystÃ¨me de contrÃ´le de version |
| ğŸ›³ï¸ **Helm** | Gestionnaire de packages Kubernetes |
| ğŸ§± **Kind** | Kubernetes in Docker |
| ğŸ‹ **Kubectl** | CLI Kubernetes |
| ğŸ¨ **Kubecolor** | Colorisation pour kubectl |
| ğŸ§­ **Kubectx** | Changement rapide de contexte K8s |
| ğŸ **Vim** | Ã‰diteur de texte |
| ğŸš **Zsh** | Shell puissant |
| ğŸ§© **Zellij** | Multiplexeur de terminal |

## ğŸ”„ Workflow typique

### PremiÃ¨re installation
```bash
# 1. Installe tout (Homebrew + packages)
task

# 2. RedÃ©marre ton terminal
# ou exÃ©cute : source ~/.bashrc

# 3. VÃ©rifie l'installation
task brew:list:pretty
```

### Mises Ã  jour rÃ©guliÃ¨res
```bash
# Met Ã  jour les dÃ©pÃ´ts
task brew:update

# Upgrade tous les packages
task brew:upgrade

# VÃ©rifie les versions
task brew:list:pretty
```

## ğŸ¨ Exemple d'affichage

```
ğŸ“¦ Packages installÃ©s :
--------------------------------------------
ğŸ”  ArgoCD         : 2.9.3
ğŸ¦‡  Bat            : 0.24.0
ğŸ“  Eza            : 0.17.0
ğŸ™  Git            : 2.43.0
ğŸ›³ï¸  Helm           : 3.13.3
ğŸ§±  Kind           : 0.20.0
ğŸ‹  Kubectl        : 1.29.0
ğŸ¨  Kubecolor      : 0.2.2
ğŸ§­  Kubectx        : 0.9.5
ğŸ  Vim            : 9.0.2116
ğŸš  Zsh            : 5.9
ğŸ§©  Zellij         : 0.39.2
--------------------------------------------
```

## ğŸ—ï¸ Architecture du Taskfile

```
â”œâ”€â”€ bootstrap          # Point d'entrÃ©e principal
â”œâ”€â”€ sudo:check         # Gestion des privilÃ¨ges
â”œâ”€â”€ brew:*             # Gestion Homebrew
â”‚   â”œâ”€â”€ install        # Installation (run: once)
â”‚   â”œâ”€â”€ update         # Mise Ã  jour des dÃ©pÃ´ts
â”‚   â”œâ”€â”€ upgrade        # Upgrade packages
â”‚   â””â”€â”€ list:*         # DiffÃ©rents formats de listage
â””â”€â”€ packages:install   # Installation des packages
```

## âš™ï¸ Configuration

### Variables globales
- `BREW`: Chemin vers le binaire Homebrew (`/home/linuxbrew/.linuxbrew/bin/brew`)

### Comportements intelligents
- âœ… `brew:install` : S'exÃ©cute une seule fois (`run: once`)
- âœ… `sudo:check` : Demande le mot de passe une fois au dÃ©but
- âœ… `packages:install` : Installation sans upgrade automatique
- âœ… ContrÃ´le total : Tu dÃ©cides quand upgrader

## ğŸ” DÃ©pannage

### Homebrew n'est pas dans le PATH
```bash
source ~/.bashrc
# ou redÃ©marre ton terminal
```

### Forcer la rÃ©installation de Homebrew
```bash
task --force brew:install
```

### Voir toutes les tÃ¢ches disponibles
```bash
task --list
# ou
task -l
```

## ğŸ“ Notes importantes

- **PremiÃ¨re exÃ©cution** : Brew est installÃ©, packages installÃ©s (sans update)
- **ExÃ©cutions suivantes** : Brew est skippÃ©, packages rÃ©installÃ©s (sans upgrade)
- **Upgrades** : Toujours manuels avec `task brew:upgrade`
- **Git** : InstallÃ© via apt ET brew (version brew prioritaire dans le PATH)

## ğŸ¤ Contribution

Pour ajouter de nouveaux packages, Ã©dite la section `packages:install` dans le Taskfile.

## ğŸ“„ Licence

Libre d'utilisation - Fait avec â¤ï¸ et Task.dev