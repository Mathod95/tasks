```bash
sudo apt update
sudo apt install curl git age -y
sudo sh -c "$(curl --location https://taskfile.dev/install.sh)" -- -d -b /usr/local/bin
task --version
git clone https://github.com/Mathod95/task.git
cd task
task
```

# ğŸš€ Bootstrap WSL2 - Environnement de dÃ©veloppement automatisÃ©

Bootstrap automatique d'un environnement de dÃ©veloppement WSL2 (Debian) avec gestion sÃ©curisÃ©e des secrets via **age + SOPS**.

---

## ğŸ“‹ Table des matiÃ¨res

- [Structure du projet](#structure-du-projet)
- [Vue d'ensemble](#vue-densemble)
- [PrÃ©requis](#prÃ©requis)
- [Installation rapide](#installation-rapide)
- [Architecture de sÃ©curitÃ©](#architecture-de-sÃ©curitÃ©)
- [Setup initial (premiÃ¨re fois)](#setup-initial-premiÃ¨re-fois)
- [DÃ©ploiement sur nouvelle machine](#dÃ©ploiement-sur-nouvelle-machine)
- [Utilisation quotidienne](#utilisation-quotidienne)
- [Commandes disponibles](#commandes-disponibles)
- [Gestion des secrets](#gestion-des-secrets)
- [DÃ©pannage](#dÃ©pannage)
- [FAQ](#faq)

---

## ğŸ“ Structure du projet

```
.
â”œâ”€â”€ README.md                    # Documentation complÃ¨te
â”œâ”€â”€ taskfile.yaml                # Automatisation avec Task
â”œâ”€â”€ .sops.yaml                   # Configuration SOPS (clÃ© publique age)
â”œâ”€â”€ .gitignore                   # Fichiers Ã  exclure de Git
â”œâ”€â”€ configs/                     # ğŸ“ Fichiers de configuration
â”‚   â”œâ”€â”€ .zshrc                   # Configuration ZSH complÃ¨te
â”‚   â”œâ”€â”€ .p10k.zsh                # Configuration Powerlevel10k
â”‚   â”œâ”€â”€ user-abbreviations       # Abbreviations ZSH
â”‚   â”œâ”€â”€ config.kdl               # Configuration Zellij
â”‚   â””â”€â”€ dracula.kdl              # ThÃ¨me Dracula pour Zellij
â””â”€â”€ secrets/                     # ğŸ”’ Secrets chiffrÃ©s
    â”œâ”€â”€ age-key.txt.age          # ClÃ© age chiffrÃ©e avec passphrase
    â””â”€â”€ ssh-keys.sops.yaml       # ClÃ©s SSH chiffrÃ©es avec SOPS
```

**âœ… Tout peut Ãªtre commitÃ© dans Git de maniÃ¨re sÃ©curisÃ©e !**

---

## ğŸ¯ Vue d'ensemble

Ce projet automatise la configuration complÃ¨te d'un environnement de dÃ©veloppement WSL2 :

**âœ¨ FonctionnalitÃ©s :**
- ğŸº Installation automatique de Homebrew
- ğŸ“¦ Installation de 40+ packages essentiels (git, kubectl, helm, argocd, zsh, zellij, etc.)
- ğŸ” Gestion sÃ©curisÃ©e des clÃ©s SSH avec **double chiffrement** (age + SOPS)
- ğŸ”‘ Configuration SSH automatique (GitLab, Seedbox, etc.)
- ğŸ¨ Configuration VS Code (extensions Kubernetes, Docker, Task, Upbound, YAML)
- ğŸš Configuration ZSH complÃ¨te (Powerlevel10k, plugins Zinit)
- ğŸ–¥ï¸ Configuration Zellij (terminal multiplexer)
- âš™ï¸ Configuration WSL (systemd activÃ©)
- ğŸŒ¿ Configuration Git (repos clonÃ©s automatiquement)
- ğŸ¤– Workflow GitOps-ready
- ğŸ”’ Auto-verrouillage des secrets aprÃ¨s bootstrap

**ğŸ” SÃ©curitÃ© :**
- Double chiffrement AES-256 (age + passphrase + SOPS)
- ClÃ©s SSH chiffrÃ©es avant commit dans Git
- Passphrase requise pour dÃ©chiffrer
- Auto-lock des secrets aprÃ¨s utilisation
- Repo public safe avec passphrase forte

---

## ğŸ“‹ PrÃ©requis

- **WSL2** avec Debian installÃ©
- **Git** (prÃ©installÃ© sur Debian)
- **AccÃ¨s sudo** sur WSL2
- Connexion Internet

---

## âš¡ Installation rapide

### **Sur une nouvelle machine :**

```bash
# 1. Clone le repo
git clone https://github.com/ton-user/ton-repo.git
cd ton-repo

# 2. Lance le bootstrap
task

# 3. Entre ta passphrase age quand demandÃ©
# ğŸ”‘ Enter passphrase: ****

# 4. C'est tout ! âœ¨
```

**Le bootstrap installe automatiquement :**
- Homebrew
- Tous les packages
- Configure SSH avec tes clÃ©s dÃ©chiffrÃ©es
- Verrouille les secrets Ã  la fin

---

## ğŸ”’ Architecture de sÃ©curitÃ©

### **Double chiffrement (2 layers AES-256)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” Layer 1 : Chiffrement SOPS (age)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Secrets en clair (local)                                   â”‚
â”‚  â””â”€ ~/.ssh/gitlab                                           â”‚
â”‚  â””â”€ ~/.ssh/seedbox                                          â”‚
â”‚  â””â”€ ~/.ssh/config                                           â”‚
â”‚                                                             â”‚
â”‚           â†“ SOPS + age (AES-256)                            â”‚
â”‚                                                             â”‚
â”‚  Secrets chiffrÃ©s (Git)                                     â”‚
â”‚  â””â”€ secrets/ssh-keys.sops.yaml                             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” Layer 2 : Chiffrement de la clÃ© age (passphrase)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ClÃ© age en clair (temporaire)                              â”‚
â”‚  â””â”€ ~/.config/sops/age/keys.txt                            â”‚
â”‚                                                             â”‚
â”‚           â†“ age --passphrase (AES-256)                      â”‚
â”‚                                                             â”‚
â”‚  ClÃ© age chiffrÃ©e (Git)                                     â”‚
â”‚  â””â”€ secrets/age-key.txt.age                                 â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¦ Ce qui est dans Git (SAFE)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… secrets/age-key.txt.age      (chiffrÃ© avec passphrase) â”‚
â”‚  âœ… secrets/ssh-keys.sops.yaml   (chiffrÃ© avec age)        â”‚
â”‚  âœ… .sops.yaml                    (clÃ© publique age)        â”‚
â”‚  âœ… Taskfile.yaml                 (automatisation)          â”‚
â”‚  âœ… .gitignore                    (protection)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ Ce qui n'est JAMAIS dans Git                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âŒ ~/.config/sops/age/keys.txt  (clÃ© age dÃ©chiffrÃ©e)      â”‚
â”‚  âŒ ~/.ssh/gitlab                 (clÃ© SSH en clair)        â”‚
â”‚  âŒ ~/.ssh/seedbox                (clÃ© SSH en clair)        â”‚
â”‚  âŒ ~/.ssh/config                 (config SSH en clair)     â”‚
â”‚  âŒ secrets/*.yaml                (secrets en clair)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Pour accÃ©der Ã  tes secrets, un attaquant doit :**
1. AccÃ©der au repo Git
2. Casser AES-256 de `age-key.txt.age` (ou deviner ta passphrase)
3. Casser AES-256 de `ssh-keys.sops.yaml` avec la clÃ© age

**= Double protection AES-256 ! ğŸ”ğŸ”**

---

## ğŸ”§ Setup initial (premiÃ¨re fois)

### **Ã‰tape 1 : Installer les outils de chiffrement**

```bash
# Sur ta machine actuelle (oÃ¹ tu as dÃ©jÃ  tes clÃ©s SSH)
cd ~/mon-projet

# Installer Homebrew si pas dÃ©jÃ  installÃ©
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"

# Installer age, SOPS et yq
brew install age sops yq

# VÃ©rifier
age --version
sops --version
yq --version
```

---

### **Ã‰tape 2 : GÃ©nÃ©rer la clÃ© age**

```bash
# CrÃ©er le rÃ©pertoire
mkdir -p ~/.config/sops/age

# GÃ©nÃ©rer la clÃ© age
age-keygen -o ~/.config/sops/age/keys.txt

# SÃ©curiser les permissions
chmod 600 ~/.config/sops/age/keys.txt

# Afficher la clÃ©
cat ~/.config/sops/age/keys.txt
```

**Tu verras :**
```
# created: 2025-12-18T10:00:00Z
# public key: age1xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
AGE-SECRET-KEY-1XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
```

**âš ï¸ Note la clÃ© publique (`age1xxx...`) pour l'Ã©tape suivante !**

---

### **Ã‰tape 3 : Configurer SOPS**

```bash
# Dans le rÃ©pertoire de ton projet
cd ~/mon-projet

# CrÃ©er .sops.yaml avec ta clÃ© publique age
cat > .sops.yaml << EOF
creation_rules:
  - age: $(age-keygen -y ~/.config/sops/age/keys.txt)
EOF

# VÃ©rifier
cat .sops.yaml
```

**RÃ©sultat attendu :**
```yaml
creation_rules:
  - age: age1xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

---

### **Ã‰tape 4 : CrÃ©er le fichier secrets avec tes clÃ©s SSH**

#### **Pour plusieurs clÃ©s (gitlab + seedbox) :**

```bash
# CrÃ©er le rÃ©pertoire secrets
mkdir -p secrets

# CrÃ©er le fichier YAML avec toutes tes clÃ©s
cat > secrets/ssh-keys.yaml << 'EOF'
ssh:
  gitlab:
    private_key: |
EOF

# Ajouter la clÃ© privÃ©e GitLab
cat ~/.ssh/gitlab | sed 's/^/      /' >> secrets/ssh-keys.yaml

# Ajouter la clÃ© publique GitLab
echo "    public_key: $(cat ~/.ssh/gitlab.pub)" >> secrets/ssh-keys.yaml

# Ajouter la clÃ© Seedbox
cat >> secrets/ssh-keys.yaml << 'EOF'
  
  seedbox:
    private_key: |
EOF

cat ~/.ssh/seedbox | sed 's/^/      /' >> secrets/ssh-keys.yaml
echo "    public_key: $(cat ~/.ssh/seedbox.pub)" >> secrets/ssh-keys.yaml

# Ajouter le SSH config
cat >> secrets/ssh-keys.yaml << 'EOF'

ssh_config: |
EOF

cat ~/.ssh/config | sed 's/^/  /' >> secrets/ssh-keys.yaml

# VÃ©rifier le fichier
cat secrets/ssh-keys.yaml
```

**Le fichier doit ressembler Ã  Ã§a :**
```yaml
ssh:
  gitlab:
    private_key: |
      -----BEGIN OPENSSH PRIVATE KEY-----
      b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW
      ...
      -----END OPENSSH PRIVATE KEY-----
    public_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIxxx... user@host
  
  seedbox:
    private_key: |
      -----BEGIN OPENSSH PRIVATE KEY-----
      ...
      -----END OPENSSH PRIVATE KEY-----
    public_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIyyy... user@host

ssh_config: |
  Host gitlab.com
    HostName gitlab.com
    User git
    IdentityFile ~/.ssh/gitlab
    IdentitiesOnly yes
  
  Host seedbox
    HostName seedbox.example.com
    User mathod
    IdentityFile ~/.ssh/seedbox
    IdentitiesOnly yes
  
  Host *
    AddKeysToAgent yes
    ServerAliveInterval 60
```

---

### **Ã‰tape 5 : Chiffrer les secrets avec SOPS**

```bash
# Chiffrer le fichier avec SOPS
sops --encrypt secrets/ssh-keys.yaml > secrets/ssh-keys.sops.yaml

# VÃ©rifier que c'est bien chiffrÃ©
cat secrets/ssh-keys.sops.yaml
```

**Tu dois voir :**
```yaml
ssh:
    gitlab:
        private_key: ENC[AES256_GCM,data:P9DfrQ309A5j...,iv:...,tag:...,type:str]
        public_key: ENC[AES256_GCM,data:vxEY4HRH...,iv:...,tag:...,type:str]
    seedbox:
        private_key: ENC[AES256_GCM,data:59/+vLLt...,iv:...,tag:...,type:str]
        public_key: ENC[AES256_GCM,data:vbCiq3T5...,iv:...,tag:...,type:str]
ssh_config: ENC[AES256_GCM,data:N0NwwJTI...,iv:...,tag:...,type:str]
sops:
    age:
        - recipient: age1xxxxxx...
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            ...
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-12-18T10:30:00Z"
    ...
```

**âœ… Tout est chiffrÃ© !**

```bash
# Supprimer le fichier en clair
rm secrets/ssh-keys.yaml
```

---

### **Ã‰tape 6 : Chiffrer la clÃ© age avec une passphrase**

**C'est LA partie critique ! ğŸ”**

```bash
# Chiffrer la clÃ© age avec une passphrase
age --encrypt --passphrase ~/.config/sops/age/keys.txt > secrets/age-key.txt.age

# Tu seras invitÃ© Ã  entrer une passphrase :
# Enter passphrase (leave empty to autogenerate a secure one): 
# Confirm passphrase: 
```

**âš ï¸ IMPORTANTE : Ta passphrase doit Ãªtre :**
- âœ… **Minimum 20 caractÃ¨res**
- âœ… MÃ©lange majuscules, minuscules, chiffres, symboles
- âœ… **MÃ©morisable** (tu vas la taper souvent)
- âœ… **Unique** (pas rÃ©utilisÃ©e ailleurs)
- âœ… **StockÃ©e dans un password manager** (1Password, Bitwarden)

**Exemples de bonnes passphrases :**
```
Correct-Horse-Battery-Staple-2025!
MonChat-Adore-LeSaumon@Juin2024
J'aime-Les-Croissants-Chauds#42
8kJ9mN2pQ7xR5vT1wY3zA6bC4dE0fG8hI9jK1lM2nO4=  (gÃ©nÃ©rÃ© alÃ©atoirement)
```

**ğŸš¨ CRITIQUE : Sauvegarde ta passphrase MAINTENANT !**

Sans cette passphrase, tu ne pourras **JAMAIS** dÃ©chiffrer tes secrets !

**Endroits sÃ»rs pour la sauvegarder :**
1. âœ… Password manager (1Password, Bitwarden, KeePass)
2. âœ… Papier dans un coffre physique
3. âœ… MÃ©morisÃ©e (si vraiment mÃ©morable)

```bash
# Supprimer la clÃ© age en clair (elle n'existe plus qu'en version chiffrÃ©e)
rm ~/.config/sops/age/keys.txt

# VÃ©rifier qu'elle n'existe plus
ls -la ~/.config/sops/age/
# Doit Ãªtre vide ou ne pas exister
```

---

### **Ã‰tape 7 : Configurer .gitignore**

```bash
cat >> .gitignore << 'EOF'

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Secrets - NE JAMAIS COMMITER EN CLAIR
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# ClÃ© age dÃ©chiffrÃ©e (CRITIQUE)
.config/sops/age/keys.txt

# ClÃ©s SSH en clair
gitlab
gitlab.pub
seedbox
seedbox.pub
id_rsa
id_ed25519
*.pem
*.key

# SSH config en clair
config

# Fichiers secrets en clair dans secrets/
secrets/*.yaml
secrets/*.yml
secrets/*.json
secrets/*.txt

# Mais on garde les fichiers chiffrÃ©s (SAFE)
!secrets/*.sops.yaml
!secrets/*.age
!.sops.yaml
EOF
```

---

### **Ã‰tape 8 : Commit dans Git**

```bash
# VÃ©rifier ce qui sera commitÃ©
git status

# Doit montrer :
# âœ… Taskfile.yaml
# âœ… .sops.yaml
# âœ… .gitignore
# âœ… secrets/age-key.txt.age
# âœ… secrets/ssh-keys.sops.yaml

# NE DOIT PAS montrer :
# âŒ ~/.config/sops/age/keys.txt
# âŒ ~/.ssh/gitlab
# âŒ ~/.ssh/seedbox
# âŒ secrets/ssh-keys.yaml

# Commit
git add Taskfile.yaml .sops.yaml .gitignore secrets/ configs/
git commit -m "Add bootstrap with encrypted secrets (age + SOPS)"
git push
```

**âœ… C'est SAFE ! Tout est chiffrÃ© ! ğŸ”’**

---

## ğŸŒ DÃ©ploiement sur nouvelle machine

### **Bootstrap complet (une commande)**

```bash
# 1. Clone le repo
git clone https://github.com/ton-user/ton-repo.git
cd ton-repo

# 2. Lance le bootstrap
task

# ğŸ”‘ [sudo] password: ****
# âœ… AccÃ¨s sudo accordÃ©

# ğŸ“¦ âœ… ClÃ© age chiffrÃ©e trouvÃ©e dans le repo

# ğŸ”‘ DÃ©chiffrement de la clÃ© age...
# Enter passphrase: ****
# âœ… ClÃ© age dÃ©chiffrÃ©e

# ğŸ“¦ Installation Homebrew...
# âœ… Homebrew installÃ©
# âœ… TÃ©lÃ©mÃ©trie Homebrew dÃ©sactivÃ©e

# ğŸ“¦ Installation des packages...
# âœ… 40+ packages installÃ©s (age, sops, yq, argocd, helm, kubectl, zsh, zellij, etc.)

# ğŸ”“ DÃ©chiffrement clÃ©s SSH...
# âœ… ClÃ© GitLab restaurÃ©e
# âœ… ClÃ© Seedbox restaurÃ©e
# âœ… SSH config restaurÃ©

# âœ… Configuration Git appliquÃ©e
# ğŸ“¥ Clonage de mathod95...
# ğŸ“¥ Clonage de wsl...
# âœ… DÃ©pÃ´ts GitHub synchronisÃ©s

# ğŸ”— CrÃ©ation symlinks helm/kubectl...
# âœ… Symlinks crÃ©Ã©s
# ğŸ“¦ Installation des extensions VS Code...
# âœ… Extensions installÃ©es
# âœ… Commande 'code' disponible globalement

# âš™ï¸ Configuration de WSL...
# âœ… systemd activÃ©

# ğŸ“ CrÃ©ation de ~/.histfile...
# âœ… .zshrc copiÃ©
# ğŸ“ Copie des abbreviations...
# âœ… Abbreviations copiÃ©es
# ğŸ“¦ Installation des plugins Zinit...
# âœ… Plugins Zinit installÃ©s
# ğŸš Changement du shell par dÃ©faut vers ZSH...
# âœ… ZSH dÃ©fini comme shell par dÃ©faut

# ğŸ“ Copie de la configuration Zellij...
# âœ… config.kdl copiÃ©
# âœ… dracula.kdl copiÃ©

# âœ… Bootstrap terminÃ© !
# ğŸ”’ Secrets automatiquement verrouillÃ©s
```

**âš ï¸ Actions post-bootstrap :**

1. **RedÃ©marrer WSL** (pour appliquer systemd) :
   ```powershell
   # Dans PowerShell Windows
   wsl --shutdown
   # Puis relancer WSL
   wsl
   ```

2. **Le shell ZSH sera actif au prochain lancement !** ğŸš

**C'est tout ! ğŸ‰**

Ton environnement complet est maintenant configurÃ© :
- âœ… ClÃ©s SSH dans `~/.ssh/` et prÃªtes Ã  l'emploi
- âœ… ZSH avec Powerlevel10k et tous les plugins
- âœ… Zellij configurÃ© avec thÃ¨me Dracula
- âœ… VS Code avec extensions Kubernetes/Docker/Task/Upbound/YAML
- âœ… Git configurÃ© avec tes repos clonÃ©s
- âœ… Systemd activÃ© dans WSL

---

### **Tester les connexions**

```bash
# Test GitLab
ssh -T git@gitlab.com
# Welcome to GitLab, @ton-user!

# Test Seedbox
ssh seedbox
# Connexion Ã©tablie

# Ou utilise la commande intÃ©grÃ©e
task ssh:test
```

---

## ğŸ”„ Utilisation quotidienne

### **AprÃ¨s le bootstrap, tu n'as plus besoin de rien !**

```bash
# Utiliser SSH normalement
ssh git@gitlab.com      # âœ… Marche
ssh seedbox             # âœ… Marche
git clone/push/pull     # âœ… Marche

# Les clÃ©s SSH sont en clair dans ~/.ssh/
# Pas besoin de dÃ©verrouiller quoi que ce soit !
```

---

### **Si tu veux modifier les secrets**

```bash
# DÃ©verrouiller pour Ã©diter
task work

# ğŸ”‘ Enter passphrase: ****
# âœ… Secrets dÃ©verrouillÃ©s pour travailler

# Ã‰diter les secrets
sops secrets/ssh-keys.sops.yaml

# Voir les secrets
sops --decrypt secrets/ssh-keys.sops.yaml

# Verrouiller quand tu as fini
task secrets:lock
```

---

## ğŸ“‹ Commandes disponibles

### **ğŸ¯ Vue d'ensemble**

| Commande | Description |
|----------|-------------|
| `task` | Bootstrap complet (auto-lock des secrets) |
| `task --list` | Liste toutes les commandes disponibles |
| `task help` | Affiche l'aide dÃ©taillÃ©e |

---

### **ğŸ”‡ Modes d'exÃ©cution**

Le Taskfile utilise `silent: true` par dÃ©faut pour un output propre et lisible.

#### **Mode silent (dÃ©faut)**

```bash
task

âœ… ClÃ© age chiffrÃ©e trouvÃ©e
âœ… AccÃ¨s sudo accordÃ©
ğŸ”‘ DÃ©chiffrement de la clÃ© age...
âœ… ClÃ© age dÃ©chiffrÃ©e
...
```

**âœ… Output propre, uniquement les messages importants**

---

#### **Mode verbose (debug)**

```bash
task --verbose
# ou
task -v

task: [age:deploy] if [ ! -f secrets/age-key.txt.age ]; then
task: [age:deploy]   echo "âŒ Fichier introuvable"
âœ… ClÃ© age chiffrÃ©e trouvÃ©e

task: [sudo:check] sudo -v
âœ… AccÃ¨s sudo accordÃ©
...
```

**âœ… Affiche les noms des tasks et les commandes bash exÃ©cutÃ©es**

---

#### **Mode ultra-verbose (debug avancÃ©)**

```bash
task -vv

# Affiche encore plus de dÃ©tails :
# - Variables
# - Status checks
# - Conditions
# - Timestamps
```

---

#### **Quand utiliser chaque mode ?**

| Mode | Quand l'utiliser |
|------|------------------|
| `task` (silent) | âœ… Usage quotidien, output propre |
| `task -v` | ğŸ› Debug, voir les commandes exÃ©cutÃ©es |
| `task -vv` | ğŸ”¬ Debug avancÃ©, tout comprendre en dÃ©tail |

**ğŸ’¡ Astuce :** Pour dÃ©sactiver dÃ©finitivement le mode silent, modifie `silent: false` dans le `taskfile.yaml`

---

### **ğŸ“Š RÃ©fÃ©rence complÃ¨te des tasks**

#### **ğŸš€ Bootstrap & Status**

| Task | Description | Usage |
|------|-------------|-------|
| `task` | Bootstrap complet de l'environnement | Une commande, une passphrase, tout s'installe |
| `task status` | Affiche le statut complet | VÃ©rifie Homebrew, secrets, SSH, packages |

---

#### **ğŸ” Gestion des secrets**

| Task | Description | Usage |
|------|-------------|-------|
| `task work` | DÃ©verrouille pour travailler (sans auto-lock) | Pour Ã©diter SOPS, ajouter des clÃ©s |
| `task secrets:unlock` | DÃ©verrouille les secrets | Demande la passphrase |
| `task secrets:lock` | Verrouille les secrets | Supprime la clÃ© age dÃ©chiffrÃ©e |
| `task secrets:status` | Statut (verrouillÃ©/dÃ©verrouillÃ©) | VÃ©rifie si la clÃ© age existe |
| `task clean` | Nettoie et verrouille les secrets | Ã‰quivalent Ã  `secrets:lock` |

---

#### **ğŸ”‘ SSH**

| Task | Description | Usage |
|------|-------------|-------|
| `task ssh:setup` | Configure SSH (dÃ©chiffre les clÃ©s) | Automatique dans bootstrap |
| `task ssh:test` | Teste les connexions SSH | VÃ©rifie GitLab, Seedbox, etc. |

---

#### **ğŸŒ¿ Git**

| Task | Description | Usage |
|------|-------------|-------|
| `task git:pull` | Met Ã  jour les repos GitHub locaux | VÃ©rifie modifs locales avant pull |

*Note: `git:config` et `git:clone` sont automatiques dans le bootstrap*

---

#### **ğŸº Homebrew**

| Task | Description | Usage |
|------|-------------|-------|
| `task brew:update` | Met Ã  jour les dÃ©pÃ´ts Homebrew | Ã‰quivalent Ã  `brew update` |
| `task brew:upgrade` | Upgrade tous les packages | Ã‰quivalent Ã  `brew upgrade` |
| `task brew:list` | Liste tous les packages installÃ©s | Sortie brute avec versions |
| `task brew:list:pretty` | Liste stylÃ©e avec emojis | Uniquement packages installÃ©s manuellement |

---

#### **ğŸ“¦ Packages**

| Task | Description | Usage |
|------|-------------|-------|
| `task versions` | Affiche toutes les versions | Packages installÃ©s + non installÃ©s avec emojis |

---

#### **ğŸ¨ VS Code**

| Task | Description | Usage |
|------|-------------|-------|
| `task vscode:setup` | Configure VS Code (symlinks + extensions) | Automatique dans bootstrap |

*CrÃ©e les symlinks helm/kubectl pour l'extension Kubernetes et installe les extensions*

---

#### **ğŸš ZSH**

| Task | Description | Usage |
|------|-------------|-------|
| `task zsh:setup` | Configure ZSH complet | Automatique dans bootstrap |

*Configure histfile, ajoute Ã  /etc/shells, copie .zshrc et abbreviations, installe plugins Zinit, dÃ©finit comme shell par dÃ©faut*

---

#### **ğŸ–¥ï¸ Zellij**

| Task | Description | Usage |
|------|-------------|-------|
| `task zellij:setup` | Configure Zellij | Automatique dans bootstrap |

*Copie config.kdl et thÃ¨me Dracula*

---

### **ğŸ¯ Exemples d'usage**

```bash
# Premier dÃ©ploiement
task                          # Bootstrap complet (une passphrase, tout s'installe)

# Usage quotidien
ssh git@gitlab.com            # SSH fonctionne direct
git clone/push/pull           # Git fonctionne direct

# Maintenance
task brew:update              # Met Ã  jour Homebrew
task brew:upgrade             # Upgrade les packages
task versions                 # Voir ce qui est installÃ©
task git:pull                 # Mettre Ã  jour les repos locaux

# Ã‰diter les secrets (rare)
task work                     # DÃ©verrouille
sops secrets/ssh-keys.sops.yaml  # Ã‰dite
task secrets:lock             # Verrouille

# VÃ©rifications
task status                   # Statut complet
task ssh:test                 # Tester SSH
```

---

## ğŸ” Gestion des secrets

### **Architecture des secrets**

```
secrets/
â”œâ”€â”€ age-key.txt.age          # ClÃ© age chiffrÃ©e (Layer 2)
â””â”€â”€ ssh-keys.sops.yaml       # Secrets chiffrÃ©s (Layer 1)

~/.config/sops/age/
â””â”€â”€ keys.txt                 # ClÃ© age dÃ©chiffrÃ©e (temporaire)

~/.ssh/
â”œâ”€â”€ gitlab                   # ClÃ© SSH en clair (aprÃ¨s bootstrap)
â”œâ”€â”€ gitlab.pub
â”œâ”€â”€ seedbox
â”œâ”€â”€ seedbox.pub
â””â”€â”€ config
```

### **Cycle de vie des secrets**

```
Bootstrap :
1. age:deploy       â†’ VÃ©rifie que age-key.txt.age existe
2. secrets:unlock   â†’ DÃ©chiffre age-key.txt.age avec passphrase
                    â†’ CrÃ©e ~/.config/sops/age/keys.txt (temporaire)
3. ssh:decrypt      â†’ Utilise la clÃ© age pour dÃ©chiffrer ssh-keys.sops.yaml
                    â†’ CrÃ©e ~/.ssh/gitlab, ~/.ssh/seedbox, ~/.ssh/config
4. secrets:lock     â†’ Supprime ~/.config/sops/age/keys.txt (auto)

RÃ©sultat :
âœ… ~/.ssh/gitlab existe et marche
âœ… ~/.ssh/seedbox existe et marche
âœ… ~/.ssh/config existe et marche
ğŸ”’ La clÃ© age est verrouillÃ©e (supprimÃ©e)
```

### **Quand unlock/lock est nÃ©cessaire**

**âŒ PAS besoin pour :**
- Utiliser SSH aprÃ¨s bootstrap
- Git clone/push/pull
- Utilisation quotidienne normale

**âœ… BESOIN pour :**
- Ã‰diter `secrets/ssh-keys.sops.yaml` avec SOPS
- Ajouter une nouvelle clÃ© SSH
- Modifier le SSH config dans SOPS
- Voir les secrets dÃ©chiffrÃ©s

---

### **Ajouter une nouvelle clÃ© SSH**

```bash
# 1. DÃ©verrouiller
task secrets:unlock
# ğŸ”‘ Entre passphrase

# 2. Ã‰diter
sops secrets/ssh-keys.sops.yaml

# 3. Ajouter ta nouvelle clÃ© dans le fichier YAML
# Par exemple, ajouter "github" :
#
# ssh:
#   gitlab:
#     ...
#   seedbox:
#     ...
#   github:  # â† Nouveau !
#     private_key: |
#       -----BEGIN OPENSSH PRIVATE KEY-----
#       ...
#       -----END OPENSSH PRIVATE KEY-----
#     public_key: ssh-ed25519 AAAA...

# 4. Sauvegarder et quitter (SOPS rechiffre automatiquement)

# 5. Rechiffrer la nouvelle clÃ© dans ~/.ssh/
task ssh:decrypt

# 6. Tester
ssh -T git@github.com

# 7. Commit
git add secrets/ssh-keys.sops.yaml
git commit -m "Add GitHub SSH key"
git push

# 8. Verrouiller
task secrets:lock
```

---

### **Changer la passphrase de la clÃ© age**

```bash
# 1. DÃ©chiffrer avec l'ancienne passphrase
age --decrypt secrets/age-key.txt.age > ~/.config/sops/age/keys.txt
# ğŸ”‘ Entre ANCIENNE passphrase

# 2. Rechiffrer avec une NOUVELLE passphrase
age --encrypt --passphrase ~/.config/sops/age/keys.txt > secrets/age-key.txt.age
# ğŸ”‘ Entre NOUVELLE passphrase
# ğŸ”‘ Confirme NOUVELLE passphrase

# 3. Commit
git add secrets/age-key.txt.age
git commit -m "Rotate age key passphrase"
git push

# 4. Nettoyer
rm ~/.config/sops/age/keys.txt
```

---

## ğŸ†˜ DÃ©pannage

### **Erreur : "Permission denied (publickey)"**

**ProblÃ¨me :** Git ne peut pas se connecter Ã  GitLab/GitHub

**Solutions :**

```bash
# VÃ©rifier que les clÃ©s SSH existent
ls -la ~/.ssh/
# Doit montrer : gitlab, gitlab.pub, seedbox, seedbox.pub, config

# VÃ©rifier les permissions
chmod 600 ~/.ssh/gitlab
chmod 600 ~/.ssh/seedbox
chmod 600 ~/.ssh/config

# Tester la connexion
ssh -T git@gitlab.com
task ssh:test

# Si Ã§a ne marche toujours pas, relancer ssh:setup
task secrets:unlock
task ssh:setup
```

---

### **Erreur : "no age identity found"**

**ProblÃ¨me :** SOPS ne trouve pas la clÃ© age dÃ©chiffrÃ©e

**Solution :**

```bash
# DÃ©chiffrer la clÃ© age
task secrets:unlock
# ğŸ”‘ Entre passphrase

# VÃ©rifier
ls -la ~/.config/sops/age/keys.txt
# Doit exister

# RÃ©essayer
sops --decrypt secrets/ssh-keys.sops.yaml
```

---

### **Erreur : "failed to decrypt" ou "MAC mismatch"**

**ProblÃ¨me :** Mauvaise passphrase ou fichier corrompu

**Solutions :**

```bash
# 1. VÃ©rifier que le fichier existe
ls -la secrets/age-key.txt.age

# 2. RÃ©essayer avec la bonne passphrase
age --decrypt secrets/age-key.txt.age > ~/.config/sops/age/keys.txt

# 3. Si vraiment corrompu, restaurer depuis Git
git checkout secrets/age-key.txt.age
```

---

### **J'ai oubliÃ© ma passphrase !**

**Malheureusement, c'est GAME OVER.** ğŸ˜¢

Sans la passphrase, impossible de dÃ©chiffrer `age-key.txt.age`, donc impossible d'accÃ©der aux secrets.

**Solutions :**

1. **Restaurer depuis un backup**
   - VÃ©rifie ton password manager
   - VÃ©rifie tes notes papier
   - VÃ©rifie tes backups

2. **RÃ©initialiser complÃ¨tement** (derniÃ¨re option)
   ```bash
   # GÃ©nÃ©rer une nouvelle clÃ© age
   age-keygen -o ~/.config/sops/age/keys.txt
   
   # Mettre Ã  jour .sops.yaml
   cat > .sops.yaml << EOF
   creation_rules:
     - age: $(age-keygen -y ~/.config/sops/age/keys.txt)
   EOF
   
   # Rechiffrer tous les secrets
   sops updatekeys secrets/ssh-keys.sops.yaml
   
   # Rechiffrer la clÃ© age avec NOUVELLE passphrase
   age --encrypt --passphrase ~/.config/sops/age/keys.txt > secrets/age-key.txt.age
   
   # Commit
   git add .sops.yaml secrets/
   git commit -m "Regenerate age key (passphrase lost)"
   git push
   ```

**PrÃ©vention :**
- âœ… Sauvegarde la passphrase Ã  **3+ endroits diffÃ©rents**
- âœ… Teste rÃ©guliÃ¨rement que tu peux dÃ©chiffrer
- âœ… Stocke dans un password manager professionnel

---

### **Le bootstrap Ã©choue Ã  l'installation de Homebrew**

**ProblÃ¨me :** Erreur pendant l'installation de Homebrew

**Solutions :**

```bash
# VÃ©rifier les dÃ©pendances
sudo apt-get update
sudo apt-get install -y build-essential procps curl file git

# RÃ©installer Homebrew manuellement
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Configurer le PATH
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"' >> ~/.bashrc

# Relancer le bootstrap
task
```

---

### **Les packages Homebrew ne s'installent pas**

**ProblÃ¨me :** Erreur lors de `brew install`

**Solutions :**

```bash
# Mettre Ã  jour Homebrew
brew update

# RÃ©essayer l'installation
brew install age sops yq argocd bat eza git helm kind kubectl kubecolor kubectx vim zsh zellij

# Si un package spÃ©cifique Ã©choue, installer le reste
brew install age sops yq
brew install argocd helm kubectl
# etc.
```

---

## â“ FAQ

### **Pourquoi double chiffrement (age + SOPS) ?**

**Layer 1 (SOPS + age) :** Chiffre les secrets SSH
- Permet de versionner les secrets dans Git
- Permet de modifier facilement (juste Ã©diter avec SOPS)
- Standard GitOps

**Layer 2 (age + passphrase) :** Chiffre la clÃ© age
- Protection supplÃ©mentaire
- MÃªme si quelqu'un accÃ¨de au repo, il faut la passphrase
- Permet de commiter la clÃ© age dans Git en toute sÃ©curitÃ©

**RÃ©sultat : Double AES-256 ! ğŸ”ğŸ”**

---

### **Puis-je utiliser un repo public ?**

**OUI, si ta passphrase est forte (20+ caractÃ¨res) !**

Avec une passphrase forte, le double chiffrement AES-256 est quasi-impossible Ã  casser, mÃªme pour un attaquant avec des moyens importants.

**Avantages repo public :**
- âœ… Clone super simple (`git clone https://...`)
- âœ… Pas de chicken-and-egg (pas besoin de clÃ© SSH pour cloner)
- âœ… Peut servir de portfolio
- âœ… Open-source friendly

**Mais vÃ©rifie :**
- âœ… Passphrase 20+ caractÃ¨res alÃ©atoires
- âœ… Pas de secrets ultra-sensibles (clÃ©s API prod d'entreprise)
- âœ… Juste tes clÃ©s SSH perso

---

### **Comment rÃ©gÃ©nÃ©rer toutes les clÃ©s ?**

```bash
# 1. Supprimer l'ancien
rm -rf secrets/

# 2. RÃ©gÃ©nÃ©rer la clÃ© age
age-keygen -o ~/.config/sops/age/keys.txt

# 3. RecrÃ©er .sops.yaml
cat > .sops.yaml << EOF
creation_rules:
  - age: $(age-keygen -y ~/.config/sops/age/keys.txt)
EOF

# 4. Rechiffrer les secrets
# (suivre les Ã©tapes 4-6 du Setup initial)

# 5. Commit
git add .sops.yaml secrets/
git commit -m "Regenerate all encryption keys"
git push
```

---

### **Puis-je ajouter d'autres types de secrets ?**

**Oui ! SOPS peut chiffrer n'importe quoi :**

```yaml
# secrets/all-secrets.sops.yaml
ssh:
  gitlab:
    private_key: |
      ...
  seedbox:
    private_key: |
      ...

api_keys:
  openai: sk-xxxxx
  github: ghp_xxxxx
  aws:
    access_key_id: AKIAXXXXX
    secret_access_key: xxxxx

database:
  postgres:
    host: db.example.com
    user: admin
    password: super-secret

tokens:
  gitlab_token: glpat-xxxxx
  npm_token: npm_xxxxx
```

```bash
# Chiffrer
sops --encrypt secrets/all-secrets.yaml > secrets/all-secrets.sops.yaml

# Utiliser
sops --decrypt secrets/all-secrets.sops.yaml | yq '.api_keys.openai'
```

---

### **Comment partager avec une Ã©quipe ?**

**Option 1 : Partager la passphrase** (simple)
- Chacun a le mÃªme `age-key.txt.age`
- Partage la passphrase via un canal sÃ©curisÃ© (1Password Teams, etc.)

**Option 2 : ClÃ©s age multiples** (avancÃ©)
```yaml
# .sops.yaml
creation_rules:
  - age: >-
      age1alice...,
      age1bob...,
      age1charlie...
```

Chacun a sa propre clÃ© age, tous peuvent dÃ©chiffrer.

---

### **Les clÃ©s SSH restent en clair aprÃ¨s bootstrap ?**

**OUI, et c'est normal ! âœ…**

AprÃ¨s le bootstrap :
- `~/.ssh/gitlab` est en clair
- `~/.ssh/seedbox` est en clair
- `~/.ssh/config` est en clair

**Pourquoi ?** Parce que SSH a besoin de les lire en clair pour fonctionner !

**Mais :**
- âœ… Elles ne sont **jamais** dans Git (protÃ©gÃ©es par `.gitignore`)
- âœ… Elles sont sur ton PC local uniquement
- âœ… Dans Git, elles sont chiffrÃ©es (`ssh-keys.sops.yaml`)

**Tu n'as besoin de unlock/lock QUE si tu veux modifier les secrets dans SOPS.**

---

### **Que faire en cas de compromission ?**

**Si tu penses que ta passphrase est compromise :**

```bash
# 1. Changer immÃ©diatement la passphrase
age --decrypt secrets/age-key.txt.age > ~/.config/sops/age/keys.txt
age --encrypt --passphrase ~/.config/sops/age/keys.txt > secrets/age-key.txt.age

# 2. RegÃ©nÃ©rer toutes les clÃ©s SSH
ssh-keygen -t ed25519 -C "email@example.com" -f ~/.ssh/gitlab
ssh-keygen -t ed25519 -C "email@example.com" -f ~/.ssh/seedbox

# 3. Mettre Ã  jour sur GitLab/Seedbox

# 4. Rechiffrer dans SOPS
sops secrets/ssh-keys.sops.yaml
# (mettre Ã  jour avec les nouvelles clÃ©s)

# 5. Commit
git add secrets/
git commit -m "Rotate all secrets (compromission)"
git push --force  # Force si nÃ©cessaire
```

---

## ğŸ“š Ressources

### **Documentation**

- [age](https://github.com/FiloSottile/age) - Outil de chiffrement moderne
- [SOPS](https://github.com/mozilla/sops) - Secrets Operations (Mozilla)
- [Task](https://taskfile.dev/) - Task runner moderne
- [Homebrew](https://brew.sh/) - Package manager
- [ZSH](https://www.zsh.org/) - Z Shell
- [Powerlevel10k](https://github.com/romkatv/powerlevel10k) - ZSH theme
- [Zellij](https://zellij.dev/) - Terminal multiplexer

### **SÃ©curitÃ©**

- [OWASP Cheat Sheet](https://cheatsheetseries.owasp.org/)
- [How to create strong passphrases](https://www.eff.org/dice)

---

## ğŸ‰ Conclusion

Tu as maintenant un systÃ¨me de bootstrap **professionnel et ultra-sÃ©curisÃ©** !

**âœ… Ce que tu as :**
- Bootstrap automatique en une commande
- Double chiffrement AES-256
- Gestion sÃ©curisÃ©e des secrets
- Configuration complÃ¨te (SSH, Git, VS Code, ZSH, Zellij, WSL)
- Workflow GitOps-ready
- Portable sur toutes tes machines

**ğŸ”‘ Points critiques Ã  retenir :**
1. ğŸ” **Sauvegarde ta passphrase** (3+ endroits diffÃ©rents)
2. ğŸ”’ **Ne commit JAMAIS** les fichiers en clair
3. ğŸ¯ **Teste rÃ©guliÃ¨rement** le dÃ©chiffrement
4. ğŸ§¹ **Utilise secrets:lock** aprÃ¨s avoir modifiÃ© les secrets
5. âš ï¸ **RedÃ©marre WSL** aprÃ¨s le bootstrap (systemd)

**ğŸš€ Prochaines Ã©tapes :**
1. Clone sur une nouvelle machine pour tester
2. Personnalise le Taskfile Ã  tes besoins
3. Ajoute tes fichiers de config dans `configs/`
4. Ajoute d'autres secrets si nÃ©cessaire
5. Partage avec ton Ã©quipe (si applicable)

---

**Bon bootstrap ! ğŸŠ**